// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

generator client {
  provider = "prisma-client-js"
}

// Define el modelo Receta
model Receta {
  id                 Int      @id @default(autoincrement())
  titulo             String
  descripcion        String
  tiempoPreparacion  Int
  dificultad         Dificultad
  fechaPublicacion   DateTime
  ingredientes       String
  cantIngredientes   String
  unidadIngredientes Unidad
  categorias         Categoria[]
  videos             Video[]
  imagen             String
}

// Define el modelo Video
model Video {
  id              Int      @id @default(autoincrement())
  titulo          String
  urlVideo        String
  duracion        Int
  fechaPublicacion DateTime
  receta          Receta   @relation(fields: [recetaId], references: [id])
  recetaId        Int

  @@index([recetaId])
}

model Categoria{
  id Int @id @default(autoincrement())
  nombre String
  recetas Receta[]
}

//model Comentario{
  //id Int @id @default(autoincrement())
  //texto String
  //fecha DateTime
  //receta Receta @relation(fields: [recetaId], references: [id])
  //recetaId Int

  //@@index([recetaId])
//}

enum Dificultad{
  Facil
  Medio
  Dificil
}

enum Unidad{
  gr
  ml
  kg
  l
  unidad
}
